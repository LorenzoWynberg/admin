# Activity Log - 2026-01-14

### 13:30 - refactor: update API URLs for /api prefix removal

- Updated lib/api/client.ts fallback URL to http://api.mandados.test:60
- Updated .env.example to remove /api suffix
- Synced openapi.yaml from API with updated server URLs

### 02:45 - fix: revert trailingComma to es5

- Changed trailingComma from "all" back to "es5" in .prettierrc
- "all" was adding trailing commas in function parameters causing ESLint conflicts
- Ran prettier to remove trailing commas from function params

### 02:30 - style: sort imports by length ASC in dashboard pages

- Fixed import sorting in all dashboard page files
- Single-line imports now sorted by length ASC (shortest first)
- Multi-line imports remain at top with named imports sorted by length DESC
- Updated files: quotes, drivers, businesses, catalogs, addresses, pricing pages
- Updated detail pages: orders/[id], quotes/[id], drivers/[id], businesses/[id], users/[id]

### 02:15 - chore: enable trailing commas in prettier

- Changed trailingComma from "es5" to "all" in .prettierrc
- Ran prettier to apply trailing commas across all files

### 02:00 - docs: add auto-push rule and fix import conventions

- Added "push constantly" rule to all CLAUDE.md files
- Fixed TypeScript import conventions to clarify DESC sorting inside multi-line blocks
- Updated PHP import docs - Pint handles sorting automatically

### 01:30 - feat: add runtime enum generation to admin

- Created scripts/build-app-runtime.cjs to generate runtime enums
- Created data/app-enums.ts with 13 runtime enums
- Added gen:enums, predev, prebuild scripts to package.json
- Updated eslint config to ignore scripts/ directory
- Documented runtime enums in all CLAUDE.md files

### 01:00 - docs: add type safety guidelines to CLAUDE.md

- Added Type Safety section with guidance on fixing type errors
- Documented that generated.d.ts should never be edited directly
- Added instructions for regenerating types from backend DTOs

### 00:30 - chore: add code quality tooling

- Created .prettierrc with consistent formatting rules
- Created .prettierignore for build artifacts
- Added format/lint/typecheck scripts to package.json
- Updated CLAUDE.md with code quality section
- Fixed all lint errors (unused vars, empty interfaces, eslint-disable comments)
- Ran prettier on all files
- All checks passing (prettier, eslint, typecheck)

### 23:20 - feat: implement pricing rules admin UI

- Updated generated.d.ts with pricing types from API
- Created pricingService.ts for API calls
- Created React Query hooks for pricing (list, detail, mutations)
- Created pricing list page with filters and table
- Created pricing create page with tier management
- Created pricing detail page
- Created pricing edit page
- Added Pricing to sidebar navigation

### 22:40 - refactor: restructure logs directory

- Moved CHANGELOG.md to logs/CHANGELOG.md
- Moved ACTIVITY.md to logs/activity/YYYY-MM-DD.md format
- Updated CLAUDE.md documentation

### 22:35 - docs: add protected branches rule

- Added rule to never push to main/dev/release directly
- Only push to feature/_ or hotfix/_ unless asked

### 22:30 - docs: add jj empty commit pitfall warning

- Documented the pitfall of using @ after push
- Added warning to use change ID instead

### 22:22 - docs: add changelog and activity logs

- Created ACTIVITY.md file
- Added documentation logs section to CLAUDE.md

### 22:15 - docs: add jj command reference to CLAUDE.md

- Added jj essential commands section
- Documented bookmark track workflow for pushing
